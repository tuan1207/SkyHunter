{"version":3,"sources":["file:///D:/Cocos%20Creator/Sky-Hunter/NewProject/assets/scripts/Boss1.ts"],"names":["_decorator","instantiate","math","RigidBody2D","Vec3","Boss","ButtonPlayScene","ccclass","property","Boss1","update","dt","instance","moveEnable","direction","randomPosition","clone","subtract","node","position","normalize","distance","posX","x","posY","y","setPosition","randomPos","spawnBullet","spawnEnabled","i","bulletVelos","length","enemyPre","bulletE","prefabInstance","getComponent","linearVelocity","parent","setWorldPosition","worldPosition"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;;AAC5CC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,e,iBAAAA,e;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;uBAGjBS,K,WADZF,OAAO,CAAC,OAAD,C,gBAAR,MACaE,KADb;AAAA;AAAA,wBAC+B;AAC3BC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AACrB,cAAI,CAAC;AAAA;AAAA,kDAAgBC,QAAhB,CAAyBC,UAA9B,EAA0C;AACtC;AACH;;AACD,cAAIC,SAAS,GAAG,KAAKC,cAAL,CAAoBC,KAApB,GAA4BC,QAA5B,CAAqC,KAAKC,IAAL,CAAUC,QAA/C,EAAyDC,SAAzD,EAAhB;AACA,cAAIC,QAAQ,GAAGnB,IAAI,CAACE,IAAL,CAAUiB,QAAV,CAAmB,KAAKH,IAAL,CAAUC,QAA7B,EAAuC,KAAKJ,cAA5C,CAAf;AACA,cAAIO,IAAI,GAAG,KAAKJ,IAAL,CAAUC,QAAV,CAAmBI,CAAnB,GAAuBT,SAAS,CAACS,CAAV,GAAcF,QAAd,GAAyB,IAA3D;AACA,cAAIG,IAAI,GAAG,KAAKN,IAAL,CAAUC,QAAV,CAAmBM,CAAnB,GAAuBX,SAAS,CAACW,CAAV,GAAcJ,QAAd,GAAyB,IAA3D;AACA,eAAKH,IAAL,CAAUQ,WAAV,CAAsB,IAAItB,IAAJ,CAASkB,IAAT,EAAeE,IAAf,CAAtB;;AACA,cAAIH,QAAQ,IAAI,EAAhB,EAAoB;AAChB,iBAAKM,SAAL;AACH;AACJ;;AAGDC,QAAAA,WAAW,GAAG;AACV,cAAG,CAAC;AAAA;AAAA,kDAAgBhB,QAAhB,CAAyBiB,YAA7B,EAA2C;;AAC3C,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKC,WAAL,CAAiBC,MAApC,EAA4CF,CAAC,EAA7C,EAAgD;AAChD,gBAAIG,QAAQ,GAAG,KAAKC,OAApB;AACA,gBAAIC,cAAc,GAAGlC,WAAW,CAACgC,QAAD,CAAhC;AACAE,YAAAA,cAAc,CAACC,YAAf,CAA4BjC,WAA5B,EAAyCkC,cAAzC,GAA0D,KAAKN,WAAL,CAAiBD,CAAjB,CAA1D;AACAK,YAAAA,cAAc,CAACG,MAAf,GAAwB,KAAKpB,IAAL,CAAUoB,MAAlC;AACAH,YAAAA,cAAc,CAACI,gBAAf,CAAgC,KAAKrB,IAAL,CAAUsB,aAA1C;AACC;AACJ;;AAzB0B,O","sourcesContent":["import { _decorator, instantiate, math, RigidBody2D, Vec3 } from \"cc\";\r\nimport { Boss } from \"./Boss\";\r\nimport { ButtonPlayScene } from \"./ButtonPlayScene\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Boss1')\r\nexport class Boss1 extends Boss{\r\n    update(dt: number): void {\r\n        if (!ButtonPlayScene.instance.moveEnable) {\r\n            return;\r\n        }\r\n        let direction = this.randomPosition.clone().subtract(this.node.position).normalize();\r\n        let distance = math.Vec3.distance(this.node.position, this.randomPosition);\r\n        let posX = this.node.position.x + direction.x * distance * 0.01;\r\n        let posY = this.node.position.y + direction.y * distance * 0.01;\r\n        this.node.setPosition(new Vec3(posX, posY));\r\n        if (distance <= 50) {\r\n            this.randomPos();  \r\n        }\r\n    }\r\n    \r\n\r\n    spawnBullet() {\r\n        if(!ButtonPlayScene.instance.spawnEnabled) return;\r\n        for(let i = 0; i < this.bulletVelos.length; i++){\r\n        let enemyPre = this.bulletE;    \r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.getComponent(RigidBody2D).linearVelocity = this.bulletVelos[i];\r\n        prefabInstance.parent = this.node.parent;\r\n        prefabInstance.setWorldPosition(this.node.worldPosition);\r\n        }\r\n    }\r\n}"]}