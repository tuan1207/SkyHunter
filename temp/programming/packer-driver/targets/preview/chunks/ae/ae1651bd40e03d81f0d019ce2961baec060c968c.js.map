{"version":3,"sources":["file:///D:/Cocos%20Creator/Sky-Hunter/NewProject/assets/scripts/GameCtrl.ts"],"names":["_decorator","Component","Node","Prefab","Vec3","instantiate","Label","ProgressBar","sys","ccclass","property","GameCtrl","destroyCount","highPoint","spawnEnabled","checkTurn1","checkTurn2","checkTurn3","listPos","onLoad","instance","spawnList","spawnTurn1","spawnTurn2","spawnTurn3","spawn","i","j","setTimeout","call","length","start","enemyWave1","console","log","enemyPre","prefabInstance","parent","node","name","endsWith","setWorldPosition","x","y","z","spawnBoss1","enemyWave2","spawnBoss2","enemyWave3","spawnBoss3","healthBar","active","progress","listBoss","spawnHeli","helicopPre","helicop","spawnPos","setPosition","addChild","countPoint","countPointLb","string","overPointLb","savePoint","storedHighPoint","parseInt","localStorage","getItem","isNaN","setItem","toString","highPointLb"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Prefab, Vec3, instantiate, macro, Label, ProgressBar, System, sys } from 'cc';\r\nimport { Plane } from './Plane';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameCtrl')\r\nexport class GameCtrl extends Component {\r\n    static instance: GameCtrl;\r\n\r\n    @property(Prefab)\r\n    public enemyWave1: Prefab [] = [];\r\n    @property(Prefab)\r\n    public enemyWave2: Prefab [] = [];\r\n    @property(Prefab)\r\n    public enemyWave3: Prefab [] = [];\r\n    @property(Prefab)\r\n    public listBoss: Prefab [] = [];\r\n    @property(Prefab)\r\n    public helicop: Prefab = null;\r\n    @property(Node)\r\n    public overNode: Node = null;\r\n    @property(Label)\r\n    public countPointLb: Label;\r\n    @property(Label)\r\n    public overPointLb: Label;\r\n    @property(Label)\r\n    public highPointLb: Label;\r\n    public destroyCount: number = 0;\r\n    public highPoint: number = 0;\r\n    public spawnEnabled: boolean = true;\r\n    public checkTurn1: boolean = true;\r\n    public checkTurn2: boolean = true;\r\n    public checkTurn3: boolean = true;\r\n    listPos = [\r\n        new Vec3(640, 760), //turn 1, 3, 5, 7\r\n        new Vec3(-50, 760), //turn 2\r\n        new Vec3(-100, 560),//turn 4\r\n        new Vec3(-50, 270), //turn 6\r\n        new Vec3(1330, 560),//turn 8\r\n        new Vec3(1330, 270),//turn 9\r\n        new Vec3(1330, 760),//turn 10\r\n        new Vec3(640, 500)  //turn boss\r\n    ];\r\n    @property(ProgressBar)\r\n    public healthBar: ProgressBar [] = [];\r\n    protected onLoad(): void {\r\n        GameCtrl.instance = this;\r\n        let spawnList = [this.spawnTurn1, this.spawnTurn2, this.spawnTurn3];\r\n\r\n        for (let i = 0; i < spawnList.length; i++) {\r\n            const spawn = spawnList[i];\r\n            for (let j = 0; j < 10; j++) {\r\n                setTimeout(() => {\r\n                    spawn.call(this, 0); // Gọi hàm spawnTurn với i = 0\r\n                }, j * 146);\r\n            }\r\n        }\r\n        // spawnList.forEach(scheduleInfo => {\r\n        //         this.scheduleOnce(() => scheduleInfo.func.call(this), scheduleInfo.delay);\r\n        // });    \r\n        this.spawnTurn3(0);\r\n    }\r\n    protected start(): void{\r\n        \r\n    }\r\n\r\n    spawnTurn1(i: number){\r\n        if(!this.checkTurn1){\r\n            return;\r\n        }else{\r\n            if(!this.spawnEnabled) return;\r\n            if (i < this.enemyWave1.length) {\r\n                setTimeout(() => {\r\n                    this.spawnTurn1(i + 1);\r\n                }, 6000);\r\n                console.log('da spawn', i);\r\n                for(let j = 0; j < 5; j++){\r\n                    let enemyPre = this.enemyWave1[i];\r\n                    let prefabInstance = instantiate(enemyPre);\r\n                    prefabInstance.parent = this.node;\r\n                    switch (true) {\r\n                        case enemyPre.name.endsWith('_0'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_1'):\r\n                            prefabInstance.setWorldPosition(this.listPos[1].x - (100 * (0 + j)), this.listPos[1].y + (60 * (j + 1)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_2'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_3'):\r\n                            prefabInstance.setWorldPosition(this.listPos[2].x + (140 * (j - 2)), this.listPos[2].y, this.listPos[2].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_4'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_5'):\r\n                            prefabInstance.setWorldPosition(this.listPos[3].x + (140 * (j - 2)), this.listPos[3].y, this.listPos[3].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_6'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_7'):\r\n                            prefabInstance.setWorldPosition(this.listPos[4].x + (140 * (j - 2)), this.listPos[4].y, this.listPos[4].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_8'):\r\n                            prefabInstance.setWorldPosition(this.listPos[5].x + (140 * (j - 2)), this.listPos[5].y, this.listPos[5].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_9'):\r\n                            prefabInstance.setWorldPosition(this.listPos[6].x + (100 * (0 + j)), this.listPos[6].y + (60 * (j + 1)), this.listPos[6].z);\r\n                            break;\r\n                        default:\r\n                            // Handle other cases here\r\n                            break;\r\n                    }\r\n                }\r\n            }else{\r\n                i = 0;\r\n                console.log(i);\r\n                setTimeout(() => {\r\n                    this.spawnBoss1()\r\n                }, 6000);\r\n            }\r\n        }\r\n        \r\n    }\r\n    spawnTurn2(i: number){\r\n        if(!this.checkTurn2){\r\n            return;\r\n        }else{\r\n            if(!this.spawnEnabled) return;\r\n            if (i < this.enemyWave2.length) {\r\n                setTimeout(() => {\r\n                    this.spawnTurn2(i + 1);\r\n                }, 6000);\r\n                console.log('da spawn', i);\r\n                for(let j = 0; j < 5; j++){\r\n                    let enemyPre = this.enemyWave2[i];\r\n                    let prefabInstance = instantiate(enemyPre);\r\n                    prefabInstance.parent = this.node;\r\n                    switch (true) {\r\n                        case enemyPre.name.endsWith('_0'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_1'):\r\n                            prefabInstance.setWorldPosition(this.listPos[1].x - (100 * (0 + j)), this.listPos[1].y + (60 * (j + 1)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_2'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_3'):\r\n                            prefabInstance.setWorldPosition(this.listPos[2].x + (140 * (j - 2)), this.listPos[2].y, this.listPos[2].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_4'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_5'):\r\n                            prefabInstance.setWorldPosition(this.listPos[3].x + (140 * (j - 2)), this.listPos[3].y, this.listPos[3].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_6'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_7'):\r\n                            prefabInstance.setWorldPosition(this.listPos[4].x + (140 * (j - 2)), this.listPos[4].y, this.listPos[4].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_8'):\r\n                            prefabInstance.setWorldPosition(this.listPos[5].x + (140 * (j - 2)), this.listPos[5].y, this.listPos[5].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_9'):\r\n                            prefabInstance.setWorldPosition(this.listPos[6].x + (100 * (0 + j)), this.listPos[6].y + (60 * (j + 1)), this.listPos[6].z);\r\n                            break;\r\n                        default:\r\n                            // Handle other cases here\r\n                            break;\r\n                    }\r\n                }\r\n            }else{\r\n                setTimeout(() => {\r\n                    this.spawnBoss2()\r\n                }, 6000);\r\n            }\r\n        }\r\n        \r\n    }\r\n    spawnTurn3(i: number){\r\n        if(!this.checkTurn2){\r\n            return;\r\n        }else{\r\n            if(!this.spawnEnabled) return;\r\n            if (i < this.enemyWave3.length) {\r\n                setTimeout(() => {\r\n                    this.spawnTurn3(i + 1);\r\n                }, 6000);\r\n                console.log('da spawn', i);\r\n                for(let j = 0; j < 5; j++){\r\n                    let enemyPre = this.enemyWave3[i];\r\n                    let prefabInstance = instantiate(enemyPre);\r\n                    prefabInstance.parent = this.node;\r\n                    switch (true) {\r\n                        case enemyPre.name.endsWith('_0'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_1'):\r\n                            prefabInstance.setWorldPosition(this.listPos[1].x - (100 * (0 + j)), this.listPos[1].y + (60 * (j + 1)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_2'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_3'):\r\n                            prefabInstance.setWorldPosition(this.listPos[2].x + (140 * (j - 2)), this.listPos[2].y, this.listPos[2].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_4'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_5'):\r\n                            prefabInstance.setWorldPosition(this.listPos[3].x + (140 * (j - 2)), this.listPos[3].y, this.listPos[3].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_6'):\r\n                            prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_7'):\r\n                            prefabInstance.setWorldPosition(this.listPos[4].x + (140 * (j - 2)), this.listPos[4].y, this.listPos[4].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_8'):\r\n                            prefabInstance.setWorldPosition(this.listPos[5].x + (140 * (j - 2)), this.listPos[5].y, this.listPos[5].z);\r\n                            break;\r\n                        case enemyPre.name.endsWith('_9'):\r\n                            prefabInstance.setWorldPosition(this.listPos[6].x + (100 * (0 + j)), this.listPos[6].y + (60 * (j + 1)), this.listPos[6].z);\r\n                            break;\r\n                        default:\r\n                            // Handle other cases here\r\n                            break;\r\n                    }\r\n                }\r\n            }else{\r\n            setTimeout(() => {\r\n                this.spawnBoss3()\r\n            }, 6000);\r\n            }\r\n        }\r\n        \r\n    }\r\n    spawnBoss1(){\r\n        this.checkTurn1 = false;\r\n        if(!this.spawnEnabled) return;\r\n        this.healthBar[0].node.active = true;\r\n        this.healthBar[0].progress = 1;\r\n        let enemyPre = this.listBoss[0];\r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.listPos[7]);\r\n    }\r\n    spawnBoss2(){\r\n        if(!this.spawnEnabled) return;\r\n        this.healthBar[1].node.active = true;\r\n        this.healthBar[1].progress = 1;\r\n        let enemyPre = this.listBoss[1];\r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.listPos[7]);\r\n    }\r\n    spawnBoss3(){\r\n        if(!this.spawnEnabled) return;\r\n        this.healthBar[2].node.active = true;\r\n        this.healthBar[2].progress = 1;\r\n        let enemyPre = this.listBoss[2];\r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.listPos[7]);\r\n    }\r\n    spawnHeli(){\r\n        if(!this.spawnEnabled) return;\r\n        let helicopPre = this.helicop;\r\n        let prefabInstance = instantiate(helicopPre);\r\n        let spawnPos = new Vec3(-690, 225);\r\n        prefabInstance.setPosition(spawnPos);\r\n        this.node.addChild(prefabInstance);\r\n    }\r\n    countPoint(){\r\n        this.destroyCount += 100;\r\n        this.countPointLb.string = `${this.destroyCount}`;\r\n        this.overPointLb.string = `${this.destroyCount}`;\r\n    }\r\n    savePoint() {\r\n        this.overPointLb.string = `${this.destroyCount}`;\r\n\r\n        let storedHighPoint = parseInt(sys.localStorage.getItem('highPoint'));\r\n        if (!isNaN(storedHighPoint)) {\r\n            this.highPoint = storedHighPoint;\r\n        }\r\n\r\n        if (this.destroyCount > this.highPoint) {\r\n            this.highPoint = this.destroyCount;\r\n        sys.localStorage.setItem('highPoint', this.highPoint.toString());\r\n        }\r\n\r\n    this.highPointLb.string = `${this.highPoint}`;\r\n    }\r\n}\r\n\r\n\r\n"]}