{"version":3,"sources":["file:///D:/Cocos%20Creator/Sky-Hunter/NewProject/assets/scripts/GameCtrl.ts"],"names":["_decorator","Component","Node","Prefab","Vec3","instantiate","macro","Label","ProgressBar","sys","Plane","ccclass","property","GameCtrl","destroyCount","highPoint","spawnEnabled","checkTurn1","checkTurn2","checkTurn3","listPos","onLoad","instance","spawnBoss1","schedule","spawnHeli","REPEAT_FOREVER","start","spawnBullet","listItemB","length","bulletPrefab0","listBullet","prefabInstance0","parent","node","setWorldPosition","worldPosition","x","y","z","j","bulletPrefab","prefabInstance","spawnRocket","listItemR","bulletPrefab5","prefabInstance5","prefabInstance6","spawnTurn1","i","enemyWave1","setTimeout","console","log","enemyPre","name","endsWith","spawnTurn2","enemyWave2","spawnBoss2","spawnTurn3","enemyWave3","spawnBoss3","healthBar","active","listBoss","helicopPre","helicop","spawnPos","setPosition","addChild","countPoint","countPointLb","string","overPointLb","savePoint","storedHighPoint","parseInt","localStorage","getItem","isNaN","setItem","toString","highPointLb"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Prefab, Vec3, instantiate, macro, Label, ProgressBar, System, sys } from 'cc';\r\nimport { Plane } from './Plane';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameCtrl')\r\nexport class GameCtrl extends Component {\r\n    static instance: GameCtrl;\r\n\r\n    @property(Prefab)\r\n    public enemyWave1: Prefab [] = [];\r\n    @property(Prefab)\r\n    public enemyWave2: Prefab [] = [];\r\n    @property(Prefab)\r\n    public enemyWave3: Prefab [] = [];\r\n    @property(Prefab)\r\n    public listBoss: Prefab [] = [];\r\n    @property(Prefab)\r\n    public helicop: Prefab = null;\r\n    @property(Node)\r\n    public overNode: Node = null;\r\n    @property(Label)\r\n    public countPointLb: Label;\r\n    @property(Label)\r\n    public overPointLb: Label;\r\n    @property(Label)\r\n    public highPointLb: Label;\r\n    public destroyCount: number = 0;\r\n    public highPoint: number = 0;\r\n    public spawnEnabled: boolean = true;\r\n    public checkTurn1: boolean = true;\r\n    public checkTurn2: boolean = true;\r\n    public checkTurn3: boolean = true;\r\n    listPos = [\r\n        new Vec3(640, 760, -1), //turn 1, 3, 5, 7\r\n        new Vec3(-50, 760, -1), //turn 2\r\n        new Vec3(-100, 560, -1),//turn 4\r\n        new Vec3(-50, 270, -1), //turn 6\r\n        new Vec3(1330, 560, -1),//turn 8\r\n        new Vec3(1330, 270, -1),//turn 9\r\n        new Vec3(1330, 760, -1),//turn 10\r\n        new Vec3(640, 500, -1)  //turn boss\r\n    ];\r\n    @property(ProgressBar)\r\n    public healthBar: ProgressBar [] = [];\r\n    protected onLoad(): void {\r\n        GameCtrl.instance = this;\r\n        // let spawnFunc = [\r\n        //     {func: this.spawnTurn1, delay: 6},\r\n        //     {func: this.spawnTurn2, delay: 147},\r\n        //     {func: this.spawnTurn3, delay: 288},\r\n        // ];\r\n        // spawnFunc.forEach(scheduleInfo => {\r\n        //         this.scheduleOnce(() => scheduleInfo.func.call(this), scheduleInfo.delay);\r\n        // });\r\n\r\n        this.spawnBoss1();\r\n        this.schedule(this.spawnHeli, 20, macro.REPEAT_FOREVER, 0);\r\n        \r\n    }\r\n    protected start(): void{\r\n        \r\n    }\r\n\r\n    spawnBullet(){\r\n        if(!Plane.instance.spawnEnabled) return;\r\n        if(Plane.instance.listItemB.length === 0){\r\n            let bulletPrefab0 = Plane.instance.listBullet[0];\r\n            let prefabInstance0 = instantiate(bulletPrefab0);\r\n            prefabInstance0.parent = Plane.instance.node;\r\n            prefabInstance0.setWorldPosition(Plane.instance.node.worldPosition.x, Plane.instance.node.worldPosition.y+60, Plane.instance.node.worldPosition.z);\r\n        }\r\n        if(Plane.instance.listItemB.length === 1){\r\n            for(let j = 0; j < 3; j++){\r\n                let bulletPrefab = Plane.instance.listBullet[j];\r\n                let prefabInstance = instantiate(bulletPrefab);\r\n                prefabInstance.parent = this.node.parent;\r\n                prefabInstance.setWorldPosition(this.node.worldPosition.x, this.node.worldPosition.y+60, this.node.worldPosition.z);\r\n            }\r\n        }\r\n        if(Plane.instance.listItemB.length >= 2){\r\n            for(let j = 0; j < 5; j++){\r\n                let bulletPrefab = Plane.instance.listBullet[j];\r\n                let prefabInstance = instantiate(bulletPrefab);\r\n                prefabInstance.parent = this.node.parent;\r\n                prefabInstance.setWorldPosition(this.node.worldPosition.x, this.node.worldPosition.y+60, this.node.worldPosition.z);\r\n            }\r\n        }\r\n    }\r\n    spawnRocket(){\r\n        if(!this.spawnEnabled) return;\r\n        if(Plane.instance.listItemR.length >= 1){\r\n            let bulletPrefab5 = Plane.instance.listBullet[5];\r\n            let prefabInstance5 = instantiate(bulletPrefab5);\r\n            prefabInstance5.parent = this.node.parent;\r\n            prefabInstance5.setWorldPosition(this.node.worldPosition.x+50, this.node.worldPosition.y, this.node.worldPosition.z);\r\n            let prefabInstance6 = instantiate(bulletPrefab5);\r\n            prefabInstance6.parent = this.node.parent;\r\n            prefabInstance6.setWorldPosition(this.node.worldPosition.x-50, this.node.worldPosition.y, this.node.worldPosition.z);\r\n        }\r\n    }\r\n\r\n    spawnTurn1(i: number = 0){\r\n        if(!this.checkTurn1){\r\n            return;\r\n        }else{\r\n            if(!this.spawnEnabled) return;\r\n            if (i < this.enemyWave1.length) {\r\n                setTimeout(() => {\r\n                    this.spawnTurn1(i + 1);\r\n                }, 6000);\r\n                console.log('da spawn', i);\r\n                for(let j = 0; j < 5; j++){\r\n                    let enemyPre = this.enemyWave1[i];\r\n                    let prefabInstance = instantiate(enemyPre);\r\n                    prefabInstance.parent = this.node;\r\n                    if(enemyPre.name.endsWith('_0')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_1')){\r\n                        prefabInstance.setWorldPosition(this.listPos[1].x - (100 * (0 + j)), this.listPos[1].y + (60 * (j + 1)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_2')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_3')){\r\n                        prefabInstance.setWorldPosition(this.listPos[2].x + (140 * (j - 2)), this.listPos[2].y, this.listPos[2].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_4')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_5')){\r\n                        prefabInstance.setWorldPosition(this.listPos[3].x + (140 * (j - 2)), this.listPos[3].y, this.listPos[3].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_6')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_7')){\r\n                        prefabInstance.setWorldPosition(this.listPos[4].x  + (140 * (j - 2)), this.listPos[4].y, this.listPos[4].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_8')){\r\n                        prefabInstance.setWorldPosition(this.listPos[5].x + (140 * (j - 2)), this.listPos[5].y, this.listPos[5].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_9')){\r\n                        prefabInstance.setWorldPosition(this.listPos[6].x + (100 * (0 + j)), this.listPos[6].y + (60 * (j + 1)), this.listPos[6].z);\r\n                    }\r\n                }\r\n            }else{\r\n                setTimeout(() => {\r\n                    this.spawnBoss1()\r\n                }, 6000);\r\n            }\r\n        }\r\n        \r\n    }\r\n    spawnTurn2(i: number = 0){\r\n        if(!this.checkTurn2){\r\n            return;\r\n        }else{\r\n            if(!this.spawnEnabled) return;\r\n            if (i < this.enemyWave2.length) {\r\n                setTimeout(() => {\r\n                    this.spawnTurn2(i + 1);\r\n                }, 6000);\r\n                console.log('da spawn', i);\r\n                for(let j = 0; j < 5; j++){\r\n                    let enemyPre = this.enemyWave2[i];\r\n                    let prefabInstance = instantiate(enemyPre);\r\n                    prefabInstance.parent = this.node;\r\n                    if(enemyPre.name.endsWith('_0')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_1')){\r\n                        prefabInstance.setWorldPosition(this.listPos[1].x - (100 * (0 + j)), this.listPos[1].y + (60 * (j + 1)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_2')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_3')){\r\n                        prefabInstance.setWorldPosition(this.listPos[2].x + (140 * (j - 2)), this.listPos[2].y, this.listPos[2].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_4')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_5')){\r\n                        prefabInstance.setWorldPosition(this.listPos[3].x + (140 * (j - 2)), this.listPos[3].y, this.listPos[3].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_6')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_7')){\r\n                        prefabInstance.setWorldPosition(this.listPos[4].x  + (140 * (j - 2)), this.listPos[4].y, this.listPos[4].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_8')){\r\n                        prefabInstance.setWorldPosition(this.listPos[5].x + (140 * (j - 2)), this.listPos[5].y, this.listPos[5].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_9')){\r\n                        prefabInstance.setWorldPosition(this.listPos[6].x + (100 * (0 + j)), this.listPos[6].y + (60 * (j + 1)), this.listPos[6].z);\r\n                    } \r\n                }\r\n            }else{\r\n                setTimeout(() => {\r\n                    this.spawnBoss2()\r\n                }, 6000);\r\n            }\r\n        }\r\n        \r\n    }\r\n    spawnTurn3(i: number = 0){\r\n        if(!this.checkTurn2){\r\n            return;\r\n        }else{\r\n            if(!this.spawnEnabled) return;\r\n            if (i < this.enemyWave3.length) {\r\n                setTimeout(() => {\r\n                    this.spawnTurn3(i + 1);\r\n                }, 6000);\r\n                console.log('da spawn', i);\r\n                for(let j = 0; j < 5; j++){\r\n                    let enemyPre = this.enemyWave3[i];\r\n                    let prefabInstance = instantiate(enemyPre);\r\n                    prefabInstance.parent = this.node;\r\n                    if(enemyPre.name.endsWith('_0')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_1')){\r\n                        prefabInstance.setWorldPosition(this.listPos[1].x - (100 * (0 + j)), this.listPos[1].y + (60 * (j + 1)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_2')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_3')){\r\n                        prefabInstance.setWorldPosition(this.listPos[2].x + (140 * (j - 2)), this.listPos[2].y, this.listPos[2].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_4')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x, this.listPos[0].y + (120 * (0 + j)), this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_5')){\r\n                        prefabInstance.setWorldPosition(this.listPos[3].x + (140 * (j - 2)), this.listPos[3].y, this.listPos[3].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_6')){\r\n                        prefabInstance.setWorldPosition(this.listPos[0].x + (120 * (j - 2)), this.listPos[0].y, this.listPos[0].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_7')){\r\n                        prefabInstance.setWorldPosition(this.listPos[4].x  + (140 * (j - 2)), this.listPos[4].y, this.listPos[4].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_8')){\r\n                        prefabInstance.setWorldPosition(this.listPos[5].x + (140 * (j - 2)), this.listPos[5].y, this.listPos[5].z);\r\n                    }\r\n                    if(enemyPre.name.endsWith('_9')){\r\n                        prefabInstance.setWorldPosition(this.listPos[6].x + (100 * (0 + j)), this.listPos[6].y + (60 * (j + 1)), this.listPos[6].z);\r\n                    }\r\n                }\r\n            }else{\r\n            setTimeout(() => {\r\n                this.spawnBoss3()\r\n            }, 6000);\r\n            }\r\n        }\r\n        \r\n    }\r\n    spawnBoss1(){\r\n        this.checkTurn1 = false;\r\n        if(!this.spawnEnabled) return;\r\n        this.healthBar[0].node.active = true;\r\n        let enemyPre = this.listBoss[0];\r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.listPos[7]);\r\n    }\r\n    spawnBoss2(){\r\n        if(!this.spawnEnabled) return;\r\n        this.healthBar[1].node.active = true;\r\n        let enemyPre = this.listBoss[1];\r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.listPos[7]);\r\n    }\r\n    spawnBoss3(){\r\n        if(!this.spawnEnabled) return;\r\n        this.healthBar[2].node.active = true;\r\n        let enemyPre = this.listBoss[2];\r\n        let prefabInstance = instantiate(enemyPre);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.listPos[7]);\r\n    }\r\n    spawnHeli(){\r\n        if(!this.spawnEnabled) return;\r\n        let helicopPre = this.helicop;\r\n        let prefabInstance = instantiate(helicopPre);\r\n        let spawnPos = new Vec3(-690, 225);\r\n        prefabInstance.setPosition(spawnPos);\r\n        this.node.addChild(prefabInstance);\r\n    }\r\n    countPoint(){\r\n        this.destroyCount += 100;\r\n        this.countPointLb.string = `${this.destroyCount}`;\r\n        this.overPointLb.string = `${this.destroyCount}`;\r\n    }\r\n    savePoint() {\r\n        this.overPointLb.string = `${this.destroyCount}`;\r\n\r\n        let storedHighPoint = parseInt(sys.localStorage.getItem('highPoint'));\r\n        if (!isNaN(storedHighPoint)) {\r\n            this.highPoint = storedHighPoint;\r\n        }\r\n\r\n        if (this.destroyCount > this.highPoint) {\r\n            this.highPoint = this.destroyCount;\r\n        sys.localStorage.setItem('highPoint', this.highPoint.toString());\r\n        }\r\n\r\n    this.highPointLb.string = `${this.highPoint}`;\r\n    }\r\n}\r\n\r\n\r\n"]}