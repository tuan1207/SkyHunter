{"version":3,"sources":["file:///D:/Cocos%20Creator/Sky-Hunter/NewProject/assets/scripts/Enemy.ts"],"names":["_decorator","Component","Prefab","instantiate","Collider2D","Contact2DType","ccclass","property","Enemy","start","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","END_CONTACT","onEndContact","update","deltaTime","destroyB","destroyPrefab","destroyPre","prefabInstance","parent","node","setWorldPosition","worldPosition","selfCollider","otherCollider","contact","enemyMove","name","posX","position","x","posY","y","bulletSpeed","posBullet","Vec3","setPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,a,OAAAA,a;;;;;;;;;OACjE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;uBAGjBQ,K,WADZF,OAAO,CAAC,OAAD,C,UAEHC,QAAQ,CAACL,MAAD,C,2BAFb,MACaM,KADb,SAC2BP,SAD3B,CACqC;AAAA;AAAA;;AAAA;AAAA;;AAGjCQ,QAAAA,KAAK,GAAG;AACJ,cAAIC,QAAQ,GAAG,KAAKC,YAAL,CAAkBP,UAAlB,CAAf;;AACA,cAAGM,QAAH,EAAY;AACRA,YAAAA,QAAQ,CAACE,EAAT,CAAYP,aAAa,CAACQ,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACAJ,YAAAA,QAAQ,CAACE,EAAT,CAAYP,aAAa,CAACU,WAA1B,EAAuC,KAAKC,YAA5C,EAA0D,IAA1D;AACH;AACJ;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AACDC,QAAAA,QAAQ,GAAE;AACN,cAAIC,aAAa,GAAG,KAAKC,UAAzB;AACA,cAAIC,cAAc,GAAGnB,WAAW,CAACiB,aAAD,CAAhC;AACAE,UAAAA,cAAc,CAACC,MAAf,GAAwB,KAAKC,IAAL,CAAUD,MAAlC;AACAD,UAAAA,cAAc,CAACG,gBAAf,CAAgC,KAAKD,IAAL,CAAUE,aAA1C;AACH;;AACDZ,QAAAA,cAAc,CAACa,YAAD,EAA2BC,aAA3B,EAAsDC,OAAtD,EAAwF,CAErG;;AACDb,QAAAA,YAAY,CAACW,YAAD,EAA2BC,aAA3B,EAAsDC,OAAtD,EAAwF,CAEnG;;AACDC,QAAAA,SAAS,GAAE;AACP,cAAG,KAAKN,IAAL,CAAUO,IAAV,IAAkB,SAAlB,IAA+B,KAAKP,IAAL,CAAUO,IAAV,IAAkB,QAApD,EAA6D;AACzD,iBAAKC,IAAL,GAAY,KAAKR,IAAL,CAAUS,QAAV,CAAmBC,CAA/B;AACA,iBAAKC,IAAL,GAAY,KAAKX,IAAL,CAAUS,QAAV,CAAmBG,CAA/B;AAEA,iBAAKD,IAAL,IAAa,KAAKE,WAAlB;AACA,gBAAIC,SAAS,GAAG,IAAIC,IAAJ,CAAS,KAAKP,IAAd,EAAoB,KAAKG,IAAzB,CAAhB;AACA,iBAAKX,IAAL,CAAUgB,WAAV,CAAsBF,SAAtB;AACH;AACJ;;AAnCgC,O;;;;;iBAEL,I","sourcesContent":["import { _decorator, Component, Node, Prefab, instantiate, Collider2D, Contact2DType, IPhysics2DContact } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Enemy')\r\nexport class Enemy extends Component {\r\n    @property(Prefab)\r\n    public destroyPre: Prefab = null;\r\n    start() {\r\n        let collider = this.getComponent(Collider2D);\r\n        if(collider){\r\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n    destroyB(){\r\n        let destroyPrefab = this.destroyPre;\r\n        let prefabInstance = instantiate(destroyPrefab);\r\n        prefabInstance.parent = this.node.parent;\r\n        prefabInstance.setWorldPosition(this.node.worldPosition);\r\n    }\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null){\r\n        \r\n    }\r\n    onEndContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null){\r\n\r\n    }\r\n    enemyMove(){\r\n        if(this.node.name == 'bullet0' || this.node.name == 'rocket'){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posY += this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}