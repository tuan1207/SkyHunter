{"version":3,"sources":["file:///D:/Cocos%20Creator/Sky-Hunter/NewProject/assets/scripts/Audio.ts"],"names":["_decorator","Component","Node","AudioClip","AudioSource","ccclass","property","Audio","onOffAudio","onOffMusic","clip","onAudioQueue","index","clips","audioSource1","playOneShot","turnOffAudio","localStorage","getItem","volume","turnOffAudioBtn","active","turnOnAudioBtn","setItem","turnOffMusic","audioSource","turnOffMusicBtn","turnOnMusicBtn"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, AudioClip, AudioSource } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Audio')\r\nexport class Audio extends Component {\r\n    @property(AudioClip)\r\n    public clips: AudioClip [] = [];\r\n    @property(AudioSource)\r\n    public audioSource: AudioSource = null;\r\n    @property(AudioSource)\r\n    public audioSource1: AudioSource = null;\r\n    @property(Node)\r\n    public turnOffAudioBtn: Node = null;\r\n    @property(Node)\r\n    public turnOnAudioBtn: Node = null;\r\n    @property(Node)\r\n    public turnOffMusicBtn: Node = null;\r\n    @property(Node)\r\n    public turnOnMusicBtn: Node = null;\r\n\r\n    public onOffAudio: boolean = true;\r\n    public onOffMusic: boolean = true;\r\n    public clip;\r\n\r\n    onAudioQueue(index: number){\r\n        let clip: AudioClip = this.clips[index];\r\n        this.audioSource1.playOneShot(clip);\r\n    }\r\n    turnOffAudio(){\r\n        this.onOffAudio = localStorage.getItem('soundState') === 'on';\r\n        this.onOffAudio = !this.onOffAudio;\r\n        if(!this.onOffAudio){\r\n            this.audioSource1.volume = 0;\r\n            this.turnOffAudioBtn.active = true;\r\n            this.turnOnAudioBtn.active = false;\r\n            localStorage.getItem('soundState') === 'off';\r\n        }else{\r\n            this.audioSource1.volume = 0.3;\r\n            this.turnOnAudioBtn.active = true;\r\n            this.turnOffAudioBtn.active = false;\r\n            localStorage.getItem('soundState') === 'on';\r\n        }\r\n        localStorage.setItem('soundState', this.onOffAudio ? 'on' : 'off');\r\n    }\r\n    turnOffMusic(){\r\n        this.onOffMusic = localStorage.getItem('soundState') === 'on';\r\n        this.onOffMusic = !this.onOffMusic;\r\n        if(!this.onOffMusic){\r\n            this.audioSource.volume = 0;\r\n            this.turnOffMusicBtn.active = true;\r\n            this.turnOnMusicBtn.active = false;\r\n            localStorage.getItem('soundState') === 'off';\r\n        }else{\r\n            this.audioSource.volume = 0.3;\r\n            this.turnOnMusicBtn.active = true;\r\n            this.turnOffMusicBtn.active = false;\r\n            localStorage.getItem('soundState') === 'on';\r\n        }\r\n        localStorage.setItem('soundState', this.onOffAudio ? 'on' : 'off');\r\n    }\r\n}\r\n\r\n\r\n"]}