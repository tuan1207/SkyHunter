{"version":3,"sources":["file:///D:/Cocos%20Creator/Sky-Hunter/NewProject/assets/scripts/BulletE.ts"],"names":["_decorator","Component","math","Vec3","Collider2D","Contact2DType","instantiate","Prefab","Plane","ccclass","property","BulletE","bulletSpeed","posX","posY","start","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","END_CONTACT","onEndContact","update","deltaTime","bulletB1","bulletB3","bulletE","selfCollider","otherCollider","contact","node","name","startsWith","destroyB","scheduleOnce","destroy","instance","moveEnable","endsWith","position","x","y","posBullet","setPosition","direction","clone","subtract","normalize","distance","destroyPrefab","destroyPre","prefabInstance","parent","setWorldPosition","worldPosition"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, math, Vec3, Collider2D, Contact2DType, instantiate, IPhysics2DContact, Prefab } from 'cc';\r\nimport { Plane } from './Plane';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BulletE')\r\nexport class BulletE extends Component {\r\n    private bulletSpeed: number = 5;\r\n    private posX: number;\r\n    private posY: number;\r\n    @property(Prefab)\r\n    public destroyPre: Prefab = null;\r\n    start() {\r\n        let collider = this.getComponent(Collider2D);\r\n        if(collider){\r\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n        }\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.bulletB1();\r\n        this.bulletB3();\r\n        this.bulletE();\r\n    }\r\n    \r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null){\r\n        if(otherCollider.node.name.startsWith('Plane')){\r\n            this.destroyB();\r\n            this.scheduleOnce(() => {selfCollider.node?.destroy()});\r\n        }\r\n    }\r\n    onEndContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null){\r\n\r\n    }\r\n    bulletB1(){\r\n        if(!Plane.instance.moveEnable) return;\r\n        if(this.posY < -360){\r\n            this.node.destroy();      \r\n        }\r\n        if(this.node.name.endsWith('1_0')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posY += this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_1')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n                \r\n            this.posX += this.bulletSpeed * 0.39;\r\n            this.posY += this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_2')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX += this.bulletSpeed * 0.75;\r\n            this.posY += this.bulletSpeed * 0.75;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_3')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n                \r\n            this.posX += this.bulletSpeed;\r\n            this.posY += this.bulletSpeed * 0.39;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_4')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX += this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_5')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            \r\n            this.posX += this.bulletSpeed * 0.39;\r\n            this.posY -= this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_6')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX += this.bulletSpeed * 0.75;\r\n            this.posY -= this.bulletSpeed * 0.75;            \r\n\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_7')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX += this.bulletSpeed;\r\n            this.posY -= this.bulletSpeed * 0.39;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_8')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posY -= this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_9')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed * 0.39;\r\n            this.posY -= this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_10')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed * 0.75;\r\n            this.posY -= this.bulletSpeed * 0.75;  \r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_11')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed;\r\n            this.posY -= this.bulletSpeed * 0.39;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_12')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_13')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed;\r\n            this.posY += this.bulletSpeed * 0.39;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_14')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed * 0.75;\r\n            this.posY += this.bulletSpeed * 0.75; \r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('1_15')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX -= this.bulletSpeed * 0.39;\r\n            this.posY += this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n    }\r\n    bulletB3(){\r\n        if(this.posY < -360){\r\n            this.node.destroy();\r\n        }\r\n        if(this.node.name.endsWith('3_0') || this.node.name.endsWith('3_5')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n\r\n            this.posX += this.bulletSpeed * 0.75;\r\n            this.posY -= this.bulletSpeed * 0.75;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('3_1') || this.node.name.endsWith('3_6')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n                \r\n            this.posX += this.bulletSpeed* 0.39;\r\n            this.posY -= this.bulletSpeed ;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('3_2') || this.node.name.endsWith('3_7')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n                \r\n            this.posY -= this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('3_3') || this.node.name.endsWith('3_8')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n                \r\n            this.posX -= this.bulletSpeed * 0.39;\r\n            this.posY -= this.bulletSpeed;\r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n        if(this.node.name.endsWith('3_4') || this.node.name.endsWith('3_9')){\r\n            this.posX = this.node.position.x;\r\n            this.posY = this.node.position.y;\r\n                \r\n            this.posX -= this.bulletSpeed * 0.75;\r\n            this.posY -= this.bulletSpeed * 0.75; \r\n            let posBullet = new Vec3(this.posX, this.posY);\r\n            this.node.setPosition(posBullet);\r\n        }\r\n    }\r\n    bulletE(){\r\n        let direction = Plane.instance.Plane.position.clone().subtract(this.node.position).normalize();\r\n        let distance = math.Vec3.distance(this.node.position, Plane.instance.Plane.position);\r\n        let posX = this.node.position.x + direction.x * this.bulletSpeed;\r\n        let posY = this.node.position.y + direction.y * this.bulletSpeed;\r\n        this.node.setPosition(new Vec3(posX, posY));\r\n    }\r\n    destroyB(){\r\n        let destroyPrefab = this.destroyPre;\r\n        let prefabInstance = instantiate(destroyPrefab);\r\n        prefabInstance.parent = this.node;\r\n        prefabInstance.setWorldPosition(this.node.worldPosition);\r\n    }\r\n}\r\n\r\n\r\n"]}